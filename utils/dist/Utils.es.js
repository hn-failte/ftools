var e=arguments,t=function(){var e=document.cookie;if(e){e=e.split("; ");for(var t=new Object,n=0;n<e.length;n++)e[n]=e[n].split("="),t[e[n][0]]=e[n][1];return t}},n=function(e){return t()[e]},o=function(t,n,o){if(2==e.length&&(document.cookie=t+"="+n),3==e.length){var r=new Date((new Date).getTime()+864e5*o);document.cookie=t+"="+n+";expires="+r}},r=function(e){o(e,"",-1)},c=function(){var e=t();for(var n in e)r(n)};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=function(e){var t=e.url,n=e.data;return new Promise(function(e,o){var r=(new Date).getTime();window["cb_"+r]=function(t){0===t.err_no&&o(t),e(t)};var c=document.createElement("script"),a="";for(var i in n)a+=i+"="+n[i]+"&";c.src=t+"?"+a+"cb=cb_"+r+"&_="+r,document.body.appendChild(c)}).then(function(e){return console.log("res: ",e),Promise.resolve(e)},function(e){return console.log("rej: ",e),Promise.reject(e)}).catch(function(e){console.log("catch: ",e)})},s=function(e){var t=e.method,n=e.path,o=e.obj,r=e.async;if("object"!==a(o))throw new Error("params is not a object");return r=!!r,new Promise(function(e,c){var a=XMLHttpRequest?new XMLHttpRequest:new ActiveXObject;a.onreadystatechange=function(){4==this.readyState&&200==this.status&&e(this.responseText)},a.onerror=function(e){c(e)};var i="";for(var s in o)i+=s+"="+o[s]+"&";i+="_="+(new Date).getTime(),"get"==t&&(n+="?"+i,a.open(t,n,r),a.send(null)),"post"==t&&(a.open(t,n,r),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.send(i))}).then(function(e){return Promise.resolve(e)},function(e){return Promise.reject(e)}).catch(function(e){console.log(e)})},u=function(e){var t=e.path,n=e.obj;return n||(n={}),s({method:"get",path:t,obj:n,async:!0})},f=function(e){var t=e.path,n=e.obj;return n||(n={}),s({method:"post",path:t,obj:n,async:!1})},l=function(e){var t=(new Date).getTime(),n=0;switch(e){case"seconds":n=parseInt(t/1e3);break;case"minutes":n=parseInt(t/6e5);break;case"hours":n=parseInt(t/36e5);break;case"day":n=parseInt(t/864e5);break;default:n=t}return n},p=function(e){var t={};return location.search.slice(1).split("&").forEach(function(e){var n=e.split("="),o=n.splice(0,1);t[o]=n.join("=")}),e?t[e]:t},m=function(e){var t=e.source,n=e.start,o=e.number;return n>t.length-o?t.slice(n,n+o).concat(t.slice(0,o-(t.length-n))):t.slice(n,n+o)};export{s as ajax,c as deleteAllCookie,r as deleteCookie,u as get,t as getAllCookie,m as getArrayItems,n as getCookie,p as getParams,l as getTimeStamp,i as jsonp,f as post,o as setCookie};
